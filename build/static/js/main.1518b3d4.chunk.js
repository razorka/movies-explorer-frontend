(this["webpackJsonpmovies-explorer-frontend"]=this["webpackJsonpmovies-explorer-frontend"]||[]).push([[0],{30:function(e,t,a){},37:function(e,t,a){},38:function(e,t,a){"use strict";a.r(t);var n,i=a(1),s=a.n(i),r=a(14),c=a.n(r),l=a(3),o=(a(30),a(2)),u=a(4),d=s.a.createContext(),m=a(16),j=a(17),b=new(function(){function e(t){Object(m.a)(this,e),this._url=t.baseUrl,this._headers=t.headers}return Object(j.a)(e,[{key:"_handleOriginalResponse",value:function(e){return e.ok?Promise.resolve(e.json()).then((function(t){return{data:t,status:e.status}})):Promise.reject(e.status)}},{key:"getMoviesData",value:function(){return fetch("".concat(this._url),{headers:this._headers}).then(this._handleOriginalResponse)}}]),e}())({baseUrl:"https://api.nomoreparties.co/beatfilm-movies",headers:{"Content-Type":"application/json"}}),h=a(24),f=a.p+"static/media/not-allowed-image.941a9e09.png",O=["nameEN","nameRU","director","country","year","description"],v=[{keyName:"image",checkFunc:function(e){return e.image?"".concat("https://api.nomoreparties.co").concat(e.image.url):"".concat("http://localhost:3000").concat(f)}},{keyName:"trailerLink",checkFunc:function(e){return function(e){try{new URL(e)}catch(t){return!1}return!0}(e.trailerLink)?e.trailerLink:"https://www.youtube.com"}},{keyName:"duration",checkFunc:function(e){return e.duration?e.duration:(console.log(e.duration),0)}}],x="duration",g=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:O,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:x,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:40,s=new Map;return t.forEach((function(t){a.forEach((function(a){t[a]?e.shortfilm?t[n]<=i&&t[a].toString().toLowerCase().includes(e.search.toLowerCase())&&s.set(t.id,t):t[a].toString().toLowerCase().includes(e.search.toLowerCase())&&s.set(t.id,t):t[a]="\u041d\u0435\u0442 \u0434\u0430\u043d\u043d\u044b\u0445"}))})),s.forEach((function(e){v.forEach((function(t){var a=t.checkFunc(e);e[t.keyName]=a}))})),Object(h.a)(s.values())},p=a(6),_=new(function(){function e(t){Object(m.a)(this,e),this._url=t.baseUrl,this._headers=t.headers}return Object(j.a)(e,[{key:"_handleOriginalResponse",value:function(e){return e.ok?Promise.resolve(e.json()).then((function(t){return{data:t,status:e.status}})):Promise.reject(e.status)}},{key:"register",value:function(e){return fetch("".concat(this._url,"/signup"),{method:"POST",headers:this._headers,body:JSON.stringify(e)}).then(this._handleOriginalResponse)}},{key:"authorize",value:function(e){return fetch("".concat(this._url,"/signin"),{method:"POST",headers:this._headers,body:JSON.stringify(e)}).then(this._handleOriginalResponse)}},{key:"checkToken",value:function(e){return fetch("".concat(this._url,"/users/me"),{method:"GET",headers:Object(p.a)(Object(p.a)({},this.headers),{},{Authorization:"Bearer ".concat(e)})}).then(this._handleOriginalResponse)}},{key:"updateCurrentUserProfile",value:function(e,t){return fetch("".concat(this._url,"/users/me"),{method:"PATCH",headers:Object(p.a)(Object(p.a)({},this._headers),{},{Authorization:"Bearer ".concat(t)}),body:JSON.stringify({name:e.name,email:e.email})}).then(this._handleOriginalResponse)}},{key:"saveMovie",value:function(e,t){return fetch("".concat(this._url,"/movies"),{method:"POST",headers:Object(p.a)(Object(p.a)({},this._headers),{},{Authorization:"Bearer ".concat(t)}),body:JSON.stringify(e)}).then(this._handleOriginalResponse)}},{key:"getSavedMovies",value:function(e){return fetch("".concat(this._url,"/movies"),{method:"GET",headers:Object(p.a)(Object(p.a)({},this._headers),{},{Authorization:"Bearer ".concat(e)})}).then(this._handleOriginalResponse)}},{key:"deleteSavedMovie",value:function(e,t){return fetch("".concat(this._url,"/movies/").concat(e),{method:"DELETE",headers:Object(p.a)(Object(p.a)({},this._headers),{},{Authorization:"Bearer ".concat(t)})}).then(this._handleOriginalResponse)}}]),e}())({baseUrl:"http://localhost:3000",headers:{"Content-Type":"application/json"}}),N=a(0),S=s.a.memo((function(){return Object(N.jsxs)("nav",{className:"auth-navigation",children:[Object(N.jsx)(l.c,{className:"auth-navigation__link",to:"/signup",children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"}),Object(N.jsx)(l.c,{className:"auth-navigation__link",to:"/signin",children:"\u0412\u043e\u0439\u0442\u0438"})]})})),k=s.a.memo((function(){return Object(N.jsxs)("nav",{className:"navigation",children:[Object(N.jsx)(l.c,{className:"navigation__link",activeClassName:"navigation__link_active",to:"/movies",children:"\u0424\u0438\u043b\u044c\u043c\u044b"}),Object(N.jsx)(l.c,{className:"navigation__link",activeClassName:"navigation__link_active",to:"/saved-movies",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0451\u043d\u043d\u044b\u0435 \u0444\u0438\u043b\u044c\u043c\u044b"})]})}));function y(){return(y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function C(e,t){if(null==e)return{};var a,n,i=function(e,t){if(null==e)return{};var a,n,i={},s=Object.keys(e);for(n=0;n<s.length;n++)a=s[n],t.indexOf(a)>=0||(i[a]=e[a]);return i}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)a=s[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(i[a]=e[a])}return i}function E(e,t){var a=e.title,s=e.titleId,r=C(e,["title","titleId"]);return i.createElement("svg",y({width:12,height:12,viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":s},r),a?i.createElement("title",{id:s},a):null,n||(n=i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.42985 7.96781C8.79169 7.40572 9.7501 6.06478 9.7501 4.5C9.7501 2.42893 8.07117 0.75 6.0001 0.75C3.92903 0.75 2.2501 2.42893 2.2501 4.5C2.2501 6.06473 3.20845 7.40563 4.57021 7.96775C3.17555 8.19993 1.89263 8.76594 0.80835 9.58058L2.1899 11.4194C3.25119 10.6221 4.56874 10.15 5.99986 10.15C7.43098 10.15 8.74852 10.6221 9.80981 11.4194L11.1914 9.58058C10.1072 8.76601 8.82438 8.20003 7.42985 7.96781Z",fill:"black"})))}var w,T=i.forwardRef(E),L=(a.p,"/profile"),R="\u0410\u043a\u043a\u0430\u0443\u043d\u0442",I=s.a.memo((function(){return Object(N.jsxs)(l.b,{className:"account-link",to:L,children:[R,Object(N.jsx)(T,{className:"account-link__icon"})]})}));function M(){return(M=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function U(e,t){if(null==e)return{};var a,n,i=function(e,t){if(null==e)return{};var a,n,i={},s=Object.keys(e);for(n=0;n<s.length;n++)a=s[n],t.indexOf(a)>=0||(i[a]=e[a]);return i}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)a=s[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(i[a]=e[a])}return i}function P(e,t){var a=e.title,n=e.titleId,s=U(e,["title","titleId"]);return i.createElement("svg",M({width:38,height:38,viewBox:"0 0 38 38",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":n},s),a?i.createElement("title",{id:n},a):null,w||(w=i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19 38C29.4934 38 38 29.4934 38 19C38 8.50659 29.4934 0 19 0C8.50659 0 0 8.50659 0 19C0 29.4934 8.50659 38 19 38ZM19 28.5C24.2467 28.5 28.5 24.2467 28.5 19C28.5 13.7533 24.2467 9.5 19 9.5C13.7533 9.5 9.5 13.7533 9.5 19C9.5 24.2467 13.7533 28.5 19 28.5Z",fill:"#2BE080"})))}var D=i.forwardRef(P),A=(a.p,"\u043f\u0435\u0440\u0435\u0439\u0442\u0438 \u043d\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443 \u043e \u043f\u0440\u043e\u0435\u043a\u0442\u0435"),B="/",F=s.a.memo((function(){return Object(N.jsx)(l.b,{className:"logo-link",to:B,"aria-label":A,children:Object(N.jsx)(D,{})})})),V=s.a.memo((function(e){return Object(N.jsx)("button",{title:"\u043e\u0442\u043a\u0440\u044b\u0442\u044c \u043c\u0435\u043d\u044e",className:"menu-button",onClick:e.onOpenMenu})}));var q=function(e){return Object(N.jsxs)("header",{className:"header",children:[Object(N.jsx)(F,{}),Object(N.jsx)("div",{className:"header__navigation-container",children:e.loggedIn?Object(N.jsx)(k,{}):Object(N.jsx)(S,{})}),e.loggedIn&&Object(N.jsx)(I,{}),e.loggedIn&&Object(N.jsx)(V,{onOpenMenu:e.onOpenMenu})]})},z=Object(i.createContext)();function Z(e){var t=e.children,a=e.modalIsOpen,n=e.onModalClose,s=Object(i.createRef)(),c=new Map([["Escape",n]]);return Object(i.useEffect)((function(){var e=function(e){var t=c.get(e.key);t&&t(e)};return document.addEventListener("keydown",e),function(){document.removeEventListener("keydown",e)}})),Object(i.useEffect)((function(){var e=function(e){e.target.classList.contains("overlay")&&n()};return document.addEventListener("click",e),function(){document.removeEventListener("click",e)}})),Object(i.useEffect)((function(){a&&s.current.querySelector("button").focus()}),[a]),Object(r.createPortal)(Object(N.jsx)("div",{className:"modal overlay",role:"dialog","aria-modal":"true",children:Object(N.jsx)("div",{className:"modal__container",children:Object(N.jsx)("div",{className:"modal__content",ref:s,children:Object(N.jsx)(z.Provider,{value:{onModalClose:n},children:t})})})}),document.body)}Z.Header=function(e){var t=Object(i.useContext)(z).onModalClose;return Object(N.jsxs)("header",{className:"modal__header",children:[e.children,Object(N.jsx)("button",{className:"modal__close-button",title:"\u0437\u0430\u043a\u0440\u044b\u0442\u044c \u043c\u043e\u0434\u0430\u043b\u044c\u043d\u043e\u0435 \u043e\u043a\u043d\u043e \u043c\u0435\u043d\u044e",onClick:t})]})},Z.Body=function(e){return Object(N.jsx)("main",{className:"modal__main",children:e.children})},Z.Footer=function(e){return Object(N.jsx)("footer",{className:"modal__footer",children:e.children})};var Q=Z,H={BAD_REQUEST:"\u041f\u0440\u0438 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0438 \u043f\u0440\u043e\u0444\u0438\u043b\u044f \u043f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430.",INTERNAL_SERVER_ERROR:"\u0412\u043d\u0443\u0442\u0440\u0435\u043d\u043d\u044f\u044f \u043e\u0448\u0438\u0431\u043a\u0430 \u0441\u0435\u0440\u0432\u0435\u0440\u0430"};var J=function(e){var t=e.titleText;return Object(N.jsx)("h1",{className:"form-title",children:t})};var G=function(e){return Object(N.jsx)("input",{className:e.className,type:e.settings.type,id:e.settings.id,"aria-label":e.settings.ariaLabel,placeholder:e.settings.placeholder,name:e.settings.name,required:e.settings.required,minLength:e.settings.minLength,maxLength:e.settings.maxLength,onChange:e.onChange,value:e.value||"",pattern:e.settings.regexp})};var K=function(e){var t=e.errorText;return Object(N.jsx)("span",{className:"profile-update-error","aria-live":"polite",children:t})};var W=function(e){return Object(N.jsx)("button",{className:e.className,disabled:e.disabled,type:e.settings.type,children:e.settings.title})};var X=function(e){var t=e.title,a=e.onClick;return Object(N.jsx)("button",{className:"profile-edit-button",onClick:a,children:t})};var Y=function(e){var t=e.onSignOut,a=e.title;return Object(N.jsx)("button",{className:"profile-signout-button",onClick:t,children:a})},$=(a(37),function(){return Object(N.jsx)("div",{className:"preloader",children:Object(N.jsx)("div",{className:"preloader__container",children:Object(N.jsx)("span",{className:"preloader__round"})})})});var ee=function(e){var t=e.titleText,a=e.inputsData,n=e.onChange,i=e.values,s=e.errors,r=e.onSubmit,c=e.submitButtonSettings,l=e.formIsValid,o=e.profileUpdateErrorText,u=e.isEdited,d=e.onToggleEditableProfile,m=e.profileEditButtonSettings,j=e.profileSignoutButtonSettings,b=e.onSignOut,h=e.isLoadingData,f=e.isUpdateUserProfileError,O="profile-form",v="profile-form__title",x="profile-form__input-fieldset",g="profile-form__input-container",p="profile-form__container",_="profile-form__input",S="profile-form__input-label",k="profile-form__input-error",y="profile-form__submit-button",C=a.map((function(e){return Object(N.jsxs)("div",{className:g,children:[Object(N.jsxs)("label",{className:S,children:[e.label,Object(N.jsx)(G,{className:_,settings:e,onChange:n,value:i[e.name]})]}),Object(N.jsx)("span",{className:k,"aria-live":"polite",children:s[e.name]})]},e.key)}));return Object(N.jsxs)("form",{onSubmit:r,className:O,noValidate:!0,children:[Object(N.jsx)("div",{className:v,children:Object(N.jsx)(J,{titleText:t})}),Object(N.jsx)("fieldset",{className:x,disabled:!u||h,children:C}),Object(N.jsxs)("div",{className:p,children:[f&&Object(N.jsx)(K,{errorText:o}),u?Object(N.jsx)(W,{disabled:!l,settings:c,className:y}):Object(N.jsxs)(N.Fragment,{children:[h&&Object(N.jsx)($,{}),Object(N.jsx)(X,{onClick:d,title:m.title}),Object(N.jsx)(Y,{title:j.title,onSignOut:b})]})]})]})},te=a(13);function ae(){var e=Object(i.useState)({}),t=Object(o.a)(e,2),a=t[0],n=t[1],s=Object(i.useState)({}),r=Object(o.a)(s,2),c=r[0],l=r[1],u=Object(i.useState)(!1),d=Object(o.a)(u,2),m=d[0],j=d[1],b=Object(i.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];n(e),l(t),j(a)}),[n,l,j]);return{values:a,errors:c,isValid:m,handleChange:function(e){var t=e.target,i=t.name,s="checkbox"===t.type?t.checked:t.value;n(Object(p.a)(Object(p.a)({},a),{},Object(te.a)({},i,s))),l(Object(p.a)(Object(p.a)({},c),{},Object(te.a)({},i,t.validationMessage))),j(t.closest("form").checkValidity())},resetForm:b}}var ne=function(e){var t=e.onSignOut,a=e.onUpdateCurrentUser,n=e.isLoadingUpdateCurrentUser,i=e.updUserResStatus,r=s.a.useContext(d),c=s.a.useState(!1),l=Object(o.a)(c,2),u=l[0],m=l[1],j=s.a.useState(""),b=Object(o.a)(j,2),h=b[0],f=b[1],O=ae(),v=O.values,x=O.errors,g=O.isValid,p=O.handleChange,_=O.resetForm,S=s.a.useState(!1),k=Object(o.a)(S,2),y=k[0],C=k[1],E=function(){C(!y),m(!1),f("")},w="\u041f\u0440\u0438\u0432\u0435\u0442, ".concat(r.name||"","!");return s.a.useEffect((function(){r&&_(r)}),[r,_]),s.a.useEffect((function(){!function(){if(i)switch(i){case 400:m(!0),f(H.BAD_REQUEST);break;case 500:m(!0),f(H.INTERNAL_SERVER_ERROR);break;case 200:m(!1),f("")}}()}),[i]),Object(N.jsx)("main",{className:"profile",children:Object(N.jsx)(ee,{titleText:w,inputsData:[{key:1,type:"text",id:"name",label:"\u0418\u043c\u044f",placeholder:"\u0418\u043c\u044f",name:"name",required:!0,regexp:"[a-zA-Z -]{2,30}",customErrorMessage:"\u041f\u043e\u043b\u0435 name \u043c\u043e\u0436\u0435\u0442 \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u0442\u043e\u043b\u044c\u043a\u043e \u043b\u0430\u0442\u0438\u043d\u0438\u0446\u0443, \u043f\u0440\u043e\u0431\u0435\u043b \u0438\u043b\u0438 \u0434\u0435\u0444\u0438\u0441: a-zA-Z -"},{key:2,type:"email",id:"email",label:"\u041f\u043e\u0447\u0442\u0430",placeholder:"\u041f\u043e\u0447\u0442\u0430",name:"email",required:!0}],onChange:p,values:v,errors:x,onSubmit:function(e){e.preventDefault(),a(v),E(),_(r)},submitButtonSettings:{type:"submit",title:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"},formIsValid:g,isEdited:y,onToggleEditableProfile:E,profileEditButtonSettings:{title:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"},profileSignoutButtonSettings:{title:"\u0412\u044b\u0439\u0442\u0438 \u0438\u0437 \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0430"},profileUpdateErrorText:h,isUpdateUserProfileError:u,onSignOut:t,isLoadingData:n})})};var ie=function(e){return Object(N.jsxs)("section",{className:"promo",children:[Object(N.jsx)("h1",{className:"promo__title",children:"\u0423\u0447\u0435\u0431\u043d\u044b\u0439 \u043f\u0440\u043e\u0435\u043a\u0442 \u0441\u0442\u0443\u0434\u0435\u043d\u0442\u0430 \u0444\u0430\u043a\u0443\u043b\u044c\u0442\u0435\u0442\u0430 \u0412\u0435\u0431-\u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0438."}),e.children]})};var se=function(){var e=[{title:"\u041e \u043f\u0440\u043e\u0435\u043a\u0442\u0435",link:"#about-project",id:1,listItemClassName:"navigation-tab__list-item",listLinkClassName:"navigation-tab__list-link"},{title:"\u0422\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0438\u0438",link:"#technologies",id:2,listItemClassName:"navigation-tab__list-item",listLinkClassName:"navigation-tab__list-link"},{title:"\u0421\u0442\u0443\u0434\u0435\u043d\u0442",link:"#student",id:3,listItemClassName:"navigation-tab__list-item",listLinkClassName:"navigation-tab__list-link"}].map((function(e){return Object(N.jsx)("li",{className:e.listItemClassName,children:Object(N.jsx)("a",{className:e.listLinkClassName,href:e.link,children:e.title})},e.id)}));return Object(N.jsx)("nav",{className:"navigation-tab",children:Object(N.jsx)("ul",{className:"navigation-tab__list",children:e})})};var re=function(e){return Object(N.jsx)("h2",{className:"title",children:e.title})};function ce(e){return Object(N.jsx)("article",{id:e.id,className:e.className,children:e.children})}ce.Header=function(e){return Object(N.jsx)("header",{className:e.className,children:e.children})},ce.ArticlesSection=function(e){return Object(N.jsx)("section",{className:e.className,children:e.children})},ce.Section=function(e){return Object(N.jsx)("section",{className:e.className,children:e.children})};var le=ce;var oe=function(e){var t=e.styleSettigs,a=e.title,n=e.subTitle,i=e.text,s=e.links,r=e.images;return Object(N.jsxs)("article",{className:t.article,children:[Object(N.jsxs)("div",{className:t.articleTextContainer,children:[Object(N.jsx)("h3",{className:t.title,children:a}),n&&Object(N.jsx)("h4",{className:t.subTitle,children:n}),Object(N.jsx)("p",{className:t.text,children:i}),s&&Object(N.jsx)("ul",{className:t.list,children:s.map((function(e){return Object(N.jsx)("li",{className:t.listItem,children:Object(N.jsx)("a",{className:t.listLink,href:e.link,target:"_blank",rel:"noreferrer",children:e.title})},e.id)}))})]}),r&&Object(N.jsx)("div",{className:t.imagesContainer,children:r.map((function(e){return Object(N.jsx)("img",{className:t.image,src:e.src,alt:e.alt},e.id)}))})]})};var ue=function(e){return Object(N.jsx)(oe,{styleSettigs:{article:"article-about",title:"article-about__title",articleTextContainer:"article-about__text-container",text:"article-about__text"},title:e.title,text:e.text})};var de=function(){var e=[{id:1,numOfUnitsOfTimeSpent:1,timeUnitText:"\u043d\u0435\u0434\u0435\u043b\u044f",subText:"Back-end",color:"#2BE080"},{id:2,numOfUnitsOfTimeSpent:4,timeUnitText:"\u043d\u0435\u0434\u0435\u043b\u0438",subText:"Front-end",color:"#F2F2F2"}].map((function(e){if(0!==e.numOfUnitsOfTimeSpent){var t=100*e.numOfUnitsOfTimeSpent/5,a="".concat(e.numOfUnitsOfTimeSpent," ").concat(e.timeUnitText),n={background:e.color},i={width:"".concat(t,"%")};return Object(N.jsxs)("div",{className:"chart__item",style:i,children:[Object(N.jsx)("div",{className:"chart__item-container",style:n,children:Object(N.jsx)("p",{className:"chart__text",children:a})}),Object(N.jsx)("p",{className:"chart__sub-text",children:e.subText})]},e.id)}}));return Object(N.jsx)("div",{className:"chart",children:e})};var me=function(){var e=[{id:1,title:"\u0414\u0438\u043f\u043b\u043e\u043c\u043d\u044b\u0439 \u043f\u0440\u043e\u0435\u043a\u0442 \u0432\u043a\u043b\u044e\u0447\u0430\u043b 5 \u044d\u0442\u0430\u043f\u043e\u0432",text:"\u0421\u043e\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u043b\u0430\u043d\u0430, \u0440\u0430\u0431\u043e\u0442\u0443 \u043d\u0430\u0434 \u0431\u044d\u043a\u0435\u043d\u0434\u043e\u043c, \u0432\u0451\u0440\u0441\u0442\u043a\u0443, \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0444\u0443\u043d\u043a\u0446\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u0438 \u0438 \u0444\u0438\u043d\u0430\u043b\u044c\u043d\u044b\u0435 \u0434\u043e\u0440\u0430\u0431\u043e\u0442\u043a\u0438."},{id:2,title:"\u041d\u0430 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435 \u0434\u0438\u043f\u043b\u043e\u043c\u0430 \u0443\u0448\u043b\u043e 5 \u043d\u0435\u0434\u0435\u043b\u044c",text:"\u0423 \u043a\u0430\u0436\u0434\u043e\u0433\u043e \u044d\u0442\u0430\u043f\u0430 \u0431\u044b\u043b \u043c\u044f\u0433\u043a\u0438\u0439 \u0438 \u0436\u0451\u0441\u0442\u043a\u0438\u0439 \u0434\u0435\u0434\u043b\u0430\u0439\u043d, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043d\u0443\u0436\u043d\u043e \u0431\u044b\u043b\u043e \u0441\u043e\u0431\u043b\u044e\u0434\u0430\u0442\u044c, \u0447\u0442\u043e\u0431\u044b \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0437\u0430\u0449\u0438\u0442\u0438\u0442\u044c\u0441\u044f."}].map((function(e){return Object(N.jsx)(ue,{title:e.title,text:e.text},e.id)})),t="about-project-article",a="about-project-article__header",n="about-page-arcticle__items-section",i="about-page-arcticle__section";return Object(N.jsxs)(le,{id:"about-project",className:t,children:[Object(N.jsx)(le.Header,{className:a,children:Object(N.jsx)(re,{title:"\u041e \u043f\u0440\u043e\u0435\u043a\u0442\u0435"})}),Object(N.jsx)(le.ArticlesSection,{className:n,children:e}),Object(N.jsx)(le.Section,{className:i,children:Object(N.jsx)(de,{})})]})};var je=function(e){return Object(N.jsx)(oe,{styleSettigs:{article:"article-about-me",articleTextContainer:"article-about-me__text-container",title:"article-about-me__title",subTitle:"article-about-me__sub-title",list:"article-about-me__list",listItem:"article-about-me__list-item",listLink:"article-about-me__list-link",imagesContainer:"article-about-me__images-container",image:"article-about-me__image",text:"article-about-me__text"},title:e.title,subTitle:e.subTitle,text:e.text,links:e.links,images:e.images})};var be=function(e){var t=e.items,a=e.listTitle,n=e.styleSettings,i=t.map((function(e){return Object(N.jsx)("li",{className:n.listItem,children:Object(N.jsxs)("a",{className:n.listLink,href:e.href,target:"_blank",rel:"noreferrer",children:[e.text,Object(N.jsx)("span",{className:n.listLinkSpan,children:"\u2197"})]})},e.id)}));return Object(N.jsxs)(N.Fragment,{children:[a&&Object(N.jsx)("h5",{className:n.listTitle,children:a}),Object(N.jsx)("ul",{className:n.list,children:i})]})};var he=function(){return Object(N.jsx)(be,{items:[{id:1,text:"\u0421\u0442\u0430\u0442\u0438\u0447\u043d\u044b\u0439 \u0441\u0430\u0439\u0442",href:"https://github.com/razorka/how-to-learn"},{id:2,text:"\u0410\u0434\u0430\u043f\u0442\u0438\u0432\u043d\u044b\u0439 \u0441\u0430\u0439\u0442",href:"https://github.com/razorka/russian-travel"},{id:3,text:"\u041e\u0434\u043d\u043e\u0441\u0442\u0440\u0430\u043d\u0438\u0447\u043d\u043e\u0435 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435",href:"https://github.com/razorka/express-mesto"}],listTitle:"\u041f\u043e\u0440\u0442\u0444\u043e\u043b\u0438\u043e",styleSettings:{list:"about-me-list",listTitle:"about-me-list__title",listItem:"about-me-list__item",listLink:"about-me-list__link",listLinkSpan:"about-me-list__link-span"}})},fe=a.p+"static/media/about-me.94421e74.jpg";var Oe=function(){var e="about-me-article",t="about-me-article__header",a="about-me-article__items-section",n="about-me-article__section",i=[{id:1,title:"\u041d\u0438\u043a\u043e\u043b\u0430\u0439",subTitle:"\u0412\u0435\u0431-\u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a, 33 \u0433\u043e\u0434\u0430",text:"\u042f \u0438\u0437 \u0421\u0430\u043c\u0430\u0440\u044b. \u0420\u0430\u0431\u043e\u0442\u0430\u044e \u041d\u0430\u0447\u0430\u043b\u044c\u043d\u0438\u043a\u043e\u043c \u041f\u0422\u041e \u0432 \u0421\u0442\u0440\u043e\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0439 \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u0438. \u0412\u043e\u0437\u0432\u043e\u0434\u0438\u043c \u043f\u0440\u043e\u043c\u044b\u0448\u043b\u0435\u043d\u043d\u044b\u0435, \u0441\u043f\u043e\u0440\u0442\u0438\u0432\u043d\u044b\u0435 \u0438 \u0440\u0430\u0437\u0432\u043b\u0435\u043a\u0430\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u0443\u0447\u0440\u0435\u0436\u0434\u0435\u043d\u0438\u0435 \u043e\u0442 \u044d\u0442\u0430\u043f\u0430 \u043a\u043e\u0442\u043b\u043e\u0432\u0430\u043d\u0430 \u0438 \u0434\u043e \u0432\u0432\u043e\u0434\u0430 \u0432 \u044d\u043a\u0441\u043f\u043b\u0443\u0430\u0442\u0430\u0446\u0438\u044e. \u0412 \u043d\u0430\u0441\u0442\u043e\u044f\u0449\u0435\u0435 \u0432\u0440\u0435\u043c\u044f \u0441 \u0443\u0434\u043e\u0432\u043e\u043b\u044c\u0441\u0442\u0432\u0438\u0435\u043c \u0437\u0430\u043d\u0438\u043c\u0430\u044e\u0441\u044c \u0438\u0437\u0443\u0447\u0435\u043d\u0438\u0435\u043c \u0432\u0435\u0431-\u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u043d\u0430 JavaScript. \u0414\u0430\u043d\u043d\u043e\u0435 \u0445\u043e\u0431\u0431\u0438 \u043f\u043e\u043c\u043e\u0433\u0430\u0435\u0442 \u043f\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u043d\u0430 \u043c\u043d\u043e\u0433\u0438\u0435 \u0432\u0435\u0449\u0438 \u043f\u043e-\u043d\u043e\u0432\u043e\u043c\u0443. \u0413\u043e\u0432\u043e\u0440\u044f\u0442 \u0440\u0430\u0437 \u0432 10 \u043b\u0435\u0442 \u043d\u0430\u0434\u043e \u043f\u043e\u043f\u0440\u043e\u0431\u043e\u0432\u0430\u0442\u044c \u0447\u0442\u043e-\u0442\u043e \u043d\u043e\u0432\u043e\u0435 \u0432 \u043f\u0440\u043e\u0444\u0435\u0441\u0441\u0438\u0438 - \u044f \u0437\u0430\u0434\u0435\u0440\u0436\u0430\u043b\u0441\u044f \u043d\u0430 2 \u0433\u043e\u0434\u0430 \u0443\u0436\u0435 - \u043f\u043e\u0440\u0430:))",linksTitle:"\u041f\u043e\u0440\u0442\u0444\u043e\u043b\u0438\u043e",links:[{id:1,title:"Vkontakte",link:"https://vk.com/id9702680"},{id:2,title:"Github",link:"https://github.com/razorka"}],images:[{id:1,src:fe,alt:"\u0424\u043e\u0442\u043e Nick"}]}].map((function(e){return Object(N.jsx)(je,{title:e.title,subTitle:e.subTitle,text:e.text,linksTitle:e.linksTitle,links:e.links,images:e.images},e.id)}));return Object(N.jsxs)(le,{id:"student",className:e,children:[Object(N.jsx)(le.Header,{className:t,children:Object(N.jsx)(re,{title:"\u0421\u0442\u0443\u0434\u0435\u043d\u0442"})}),Object(N.jsx)(le.ArticlesSection,{className:a,children:i}),Object(N.jsx)(le.Section,{className:n,children:Object(N.jsx)(he,{})})]})};var ve=function(e){return Object(N.jsx)(oe,{styleSettigs:{article:"article-tech",title:"article-tech__title",articleTextContainer:"article-tech__text-container",text:"article-tech__text"},title:e.title,text:e.text})};var xe=function(e){var t=e.items.map((function(t){return Object(N.jsx)("li",{className:e.styleSettings.listItemClassName,children:t.text},t.id)}));return Object(N.jsx)("ul",{className:e.styleSettings.listClassName,children:t})};var ge=function(e){return Object(N.jsx)(xe,{items:[{id:1,text:"HTML"},{id:2,text:"CSS"},{id:3,text:"JS"},{id:4,text:"React"},{id:5,text:"Git"},{id:6,text:"Express.js"},{id:7,text:"mongoDB"}],styleSettings:{listClassName:"techs-list",listItemClassName:"techs-list__item"}})};var pe=function(){var e=[{id:1,title:"7 \u0442\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0438\u0439",text:"\u041d\u0430 \u043a\u0443\u0440\u0441\u0435 \u0432\u0435\u0431-\u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0438 \u043c\u044b \u043e\u0441\u0432\u043e\u0438\u043b\u0438 \u0442\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0438\u0438, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043f\u0440\u0438\u043c\u0435\u043d\u0438\u043b\u0438 \u0432 \u0434\u0438\u043f\u043b\u043e\u043c\u043d\u043e\u043c \u043f\u0440\u043e\u0435\u043a\u0442\u0435."}].map((function(e){return Object(N.jsx)(ve,{title:e.title,text:e.text},e.id)})),t="techs-article",a="techs-article__header",n="techs-article__items-section",i="techs-article__section";return Object(N.jsxs)(le,{id:"technologies",className:t,children:[Object(N.jsx)(le.Header,{className:a,children:Object(N.jsx)(re,{title:"\u0422\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0438\u0438"})}),Object(N.jsx)(le.ArticlesSection,{className:n,children:e}),Object(N.jsx)(le.Section,{className:i,children:Object(N.jsx)(ge,{})})]})};var _e=function(){return Object(N.jsxs)("main",{className:"main",children:[Object(N.jsx)(ie,{children:Object(N.jsx)(se,{})}),Object(N.jsx)(me,{}),Object(N.jsx)(pe,{}),Object(N.jsx)(Oe,{})]})};var Ne=function(e){var t=s.a.useState(!1),a=Object(o.a)(t,2),n=a[0],i=a[1];return Object(N.jsxs)("label",{className:n?"".concat(e.labelClassName," ").concat(e.onFocusClassName):e.labelClassName,onFocus:function(){i(!0)},onBlur:function(){i(!1)},children:[Object(N.jsx)("input",{className:e.inputClassName,type:e.settings.type,id:e.settings.id,name:e.settings.name,required:e.settings.required,onChange:e.onChange,value:e.value,checked:e.value||""}),Object(N.jsx)("span",{className:e.sliderClassName}),e.settings.label]})};var Se,ke=function(e){var t=e.onSubmit,a=ae(),n=a.values,i=a.isValid,s=a.handleChange,r=a.resetForm,c="search-form",l="search-form__text-input",o="search-form__submit-button",u="search-form__checkbox-input",d="search-form__checkbox-label",m="search-form__checkbox-slider",j="search-form__checkbox-label_focus";return Object(N.jsxs)("form",{className:c,onSubmit:function(e){e.preventDefault(),console.table(n),t(n),r()},children:[Object(N.jsx)(G,{settings:{type:"text",id:"search-text",ariaLabel:"\u043f\u043e\u0438\u0441\u043a \u0444\u0438\u043b\u044c\u043c\u0430",placeholder:"\u0424\u0438\u043b\u044c\u043c",name:"search",minLength:1,maxLength:30,required:!0},className:l,onChange:s,value:n.search}),Object(N.jsx)(Ne,{inputClassName:u,labelClassName:d,sliderClassName:m,onFocusClassName:j,settings:{type:"checkbox",id:"filter-shortfilm",label:"\u041a\u043e\u0440\u043e\u0442\u043a\u043e\u043c\u0435\u0442\u0440\u0430\u0436\u043a\u0438",name:"shortfilm",required:!1},onChange:s,value:n.shortfilm}),Object(N.jsx)(W,{className:o,settings:{className:"",type:"submit",title:"\u041f\u043e\u0438\u0441\u043a"},disabled:!i})]})},ye=function(e){var t=Math.floor(e/60),a=Math.floor(e%60);return"".concat(t,"\u0447 ").concat(a,"\u043c")};function Ce(){return(Ce=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Ee(e,t){if(null==e)return{};var a,n,i=function(e,t){if(null==e)return{};var a,n,i={},s=Object.keys(e);for(n=0;n<s.length;n++)a=s[n],t.indexOf(a)>=0||(i[a]=e[a]);return i}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)a=s[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(i[a]=e[a])}return i}function we(e,t){var a=e.title,n=e.titleId,s=Ee(e,["title","titleId"]);return i.createElement("svg",Ce({width:10,height:9,viewBox:"0 0 10 9",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":n},s),a?i.createElement("title",{id:n},a):null,Se||(Se=i.createElement("path",{d:"M7.27273 0C6.27273 0 5.54545 0.523077 5 1.08974C4.45455 0.566667 3.72727 0 2.72727 0C1.13636 0 0 1.2641 0 2.83333C0 3.61795 0.318182 4.31538 0.909091 4.79487L5 8.5L9.09091 4.79487C9.63636 4.27179 10 3.61795 10 2.83333C10 1.2641 8.86364 0 7.27273 0Z",fill:"white"})))}var Te,Le=i.forwardRef(we);a.p;function Re(){return(Re=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Ie(e,t){if(null==e)return{};var a,n,i=function(e,t){if(null==e)return{};var a,n,i={},s=Object.keys(e);for(n=0;n<s.length;n++)a=s[n],t.indexOf(a)>=0||(i[a]=e[a]);return i}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)a=s[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(i[a]=e[a])}return i}function Me(e,t){var a=e.title,n=e.titleId,s=Ie(e,["title","titleId"]);return i.createElement("svg",Re({width:10,height:9,viewBox:"0 0 10 9",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":n},s),a?i.createElement("title",{id:n},a):null,Te||(Te=i.createElement("path",{d:"M7.27273 0C6.27273 0 5.54545 0.523077 5 1.08974C4.45455 0.566667 3.72727 0 2.72727 0C1.13636 0 0 1.2641 0 2.83333C0 3.61795 0.318182 4.31538 0.909091 4.79487L5 8.5L9.09091 4.79487C9.63636 4.27179 10 3.61795 10 2.83333C10 1.2641 8.86364 0 7.27273 0Z",fill:"#FF3055"})))}var Ue,Pe,De=i.forwardRef(Me);a.p;function Ae(){return(Ae=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Be(e,t){if(null==e)return{};var a,n,i=function(e,t){if(null==e)return{};var a,n,i={},s=Object.keys(e);for(n=0;n<s.length;n++)a=s[n],t.indexOf(a)>=0||(i[a]=e[a]);return i}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)a=s[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(i[a]=e[a])}return i}function Fe(e,t){var a=e.title,n=e.titleId,s=Be(e,["title","titleId"]);return i.createElement("svg",Ae({width:30,height:30,viewBox:"0 0 30 30",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":n},s),a?i.createElement("title",{id:n},a):null,Ue||(Ue=i.createElement("rect",{width:30,height:30,rx:15,fill:"#F9F9F9"})),Pe||(Pe=i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15 15.9429L17.357 18.2999L18.4177 17.2393L16.0607 14.8822L18.2999 12.643L17.2393 11.5823L15 13.8216L12.7609 11.5824L11.7002 12.6431L13.9393 14.8822L11.5824 17.2391L12.6431 18.2998L15 15.9429Z",fill:"black"})))}var Ve=i.forwardRef(Fe);a.p;var qe=function(e){var t=e.className,a=e.ariaLabel,n=e.onClick,i=e.locationPathname,s=e.isSaved;return Object(N.jsx)("button",{className:t,"aria-label":a,onClick:n,children:"/saved-movies"===i?Object(N.jsx)(Ve,{}):"/movies"===i&&s?Object(N.jsx)(De,{}):Object(N.jsx)(Le,{})})};var ze=function(e){var t=e.data,a=e.locationPathname,n=e.onSaveFavouriteMovie,i=e.onDeleteSavedMovie,r=s.a.useState(t.saved),c=Object(o.a)(r,2),l=c[0],u=c[1],d="movies-card-article",m="movies-card-article__annotation",j="movies-card-article__container",b="movies-card-article__title",h="movies-card-article__subtitle",f="movies-card-article__image-section",O="movies-card-article__image",v="movies-card-article__like-button";return Object(N.jsxs)(le,{id:t.id||t._id,className:d,children:[Object(N.jsx)(le.Section,{className:f,children:Object(N.jsx)("img",{className:O,alt:t.nameEN,src:t.image})}),Object(N.jsxs)(le.Section,{className:m,children:[Object(N.jsxs)("div",{className:j,children:[Object(N.jsx)("h2",{className:b,children:t.nameRU}),Object(N.jsx)(qe,{className:v,onClick:function(){"/movies"===a?l||(u(!0),n({country:t.country,director:t.director,duration:t.duration,year:t.year,description:t.description,image:t.image,trailer:t.trailerLink,nameRU:t.nameRU,nameEN:t.nameEN,movieId:t.id,thumbnail:t.image})):"/saved-movies"===a&&i(t._id)},locationPathname:a,isSaved:l})]}),Object(N.jsx)("div",{className:h,children:ye(t.duration)})]})]})};var Ze=function(e){var t=e.locationPathname,a=e.data,n=e.onSaveFavouriteMovie,i=e.onDeleteSavedMovie,s=a.map((function(e){return Object(N.jsx)("li",{children:Object(N.jsx)(ze,{data:e,locationPathname:t,onSaveFavoriteMovie:n,onDeleteSavedMovie:i})},e.id||e._id)}));return Object(N.jsx)("ul",{className:"movies-card-list",children:s})};var Qe=function(e){var t=e.onDeleteSavedMovie,a=e.savedMoviesData,n=Object(u.h)();return Object(N.jsxs)("main",{children:[Object(N.jsx)(ke,{}),Object(N.jsx)(Ze,{data:a,locationPathname:n.pathname,onDeleteSavedMovie:t})]})};var He=function(e){var t=e.onClick,a="show-more",n="show-more__button";return Object(N.jsx)("div",{className:a,children:Object(N.jsx)("button",{className:n,onClick:t,children:"\u0415\u0449\u0451"})})},Je={BASE_ERROR:"\u0412\u043e \u0432\u0440\u0435\u043c\u044f \u0437\u0430\u043f\u0440\u043e\u0441\u0430 \u043f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430. \u0412\u043e\u0437\u043c\u043e\u0436\u043d\u043e, \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u0430 \u0441 \u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u0435\u043c \u0438\u043b\u0438 \u0441\u0435\u0440\u0432\u0435\u0440 \u043d\u0435\u0434\u043e\u0441\u0442\u0443\u043f\u0435\u043d. \u041f\u043e\u0434\u043e\u0436\u0434\u0438\u0442\u0435 \u043d\u0435\u043c\u043d\u043e\u0433\u043e \u0438 \u043f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0451 \u0440\u0430\u0437"};var Ge=function(e){var t=e.isLoadingData,a=e.resStatus,n=e.moviesData,i=e.onSubmit,r=e.onSaveFavouriteMovie,c=Object(u.h)(),l=s.a.useState(!1),d=Object(o.a)(l,2),m=d[0],j=d[1];return s.a.useEffect((function(){!function(){if(a)switch(a){case 200:j(!1);break;default:j(!0)}}()}),[a]),Object(N.jsxs)("main",{children:[Object(N.jsx)(ke,{onSubmit:function(e){console.log(e),i(e)}}),t?Object(N.jsx)($,{}):Object(N.jsx)(N.Fragment,{children:m?Object(N.jsx)("p",{children:Je.BASE_ERROR}):Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(Ze,{data:n,locationPathname:c.pathname,onSaveFavouriteMovie:r}),Object(N.jsx)(He,{onClick:function(){return console.log("Show more")}})]})})]})};var Ke=function(e){var t=e.settings,a=e.children;return Object(N.jsxs)("p",{className:"form-question-text",children:[t.questionText,a]})};var We=function(e){var t=e.errorText;return Object(N.jsx)("span",{className:"auth-error",children:t})};var Xe=function(e){var t=e.linkPath,a=e.linkTitle;return Object(N.jsx)(l.b,{className:"route-link",to:t,children:a})};var Ye=function(e){var t=e.titleText,a=e.inputsData,n=e.onChange,i=e.values,s=e.errors,r=e.onSubmit,c=e.submitButtonSettings,l=e.formAuthQuestionSettings,o=e.routeLinkSettings,u=e.formIsValid,d=e.authErrorText,m=e.isAuthError,j=e.isLoadingData,b="auth-form",h="auth-form__title",f="auth-form__input-fieldset",O="auth-form__input-container",v="auth-form__button-container",x="auth-form__input",g="auth-form__input-label",p="auth-form__input-error",_="auth-form__submit-button",S=a.map((function(e){return Object(N.jsxs)("div",{className:O,children:[Object(N.jsxs)("label",{className:g,children:[e.label,Object(N.jsx)(G,{className:x,settings:e,onChange:n,value:i[e.name]})]}),Object(N.jsxs)("span",{className:p,"aria-live":"polite",children:[e.regexp&&s[e.name]&&e.customErrorMessage,s[e.name]]})]},e.key)}));return Object(N.jsxs)("form",{onSubmit:r,className:b,noValidate:!0,children:[Object(N.jsxs)("div",{className:h,children:[Object(N.jsx)(F,{}),Object(N.jsx)(J,{titleText:t})]}),Object(N.jsxs)("fieldset",{className:f,disabled:j,children:[S,m&&Object(N.jsx)(We,{errorText:d})]}),Object(N.jsxs)("div",{className:v,children:[Object(N.jsx)(W,{disabled:!u||j,settings:c,className:_}),Object(N.jsx)(Ke,{settings:l,children:Object(N.jsx)(Xe,{linkPath:o.linkPath,linkTitle:o.linkTitle})})]}),j&&Object(N.jsx)($,{})]})},$e={CONFLICT_EMAIL:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0441 \u0442\u0430\u043a\u0438\u043c email \u0443\u0436\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442.",BAD_REQUEST:"\u041f\u0440\u0438 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u043f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430."};var et=function(e){var t=e.onSignup,a=e.regResStatus,n=e.isLoadingSignup,i=s.a.useState(!1),r=Object(o.a)(i,2),c=r[0],l=r[1],u=s.a.useState(""),d=Object(o.a)(u,2),m=d[0],j=d[1],b=ae(),h=b.values,f=b.errors,O=b.isValid,v=b.handleChange,x=b.resetForm;return s.a.useEffect((function(){!function(){if(a)switch(a){case 409:l(!0),j($e.CONFLICT_EMAIL);break;case 400:l(!0),j($e.BAD_REQUEST);break;case 200:l(!1),j("")}}()}),[a]),Object(N.jsx)("main",{className:"register",children:Object(N.jsx)(Ye,{titleText:"\u0414\u043e\u0431\u0440\u043e \u043f\u043e\u0436\u0430\u043b\u043e\u0432\u0430\u0442\u044c!",inputsData:[{key:1,type:"text",id:"name",label:"\u0418\u043c\u044f",placeholder:"\u0418\u043c\u044f",name:"name",required:!0,regexp:"[a-zA-Z -]{1,50}",customErrorMessage:"\u041f\u043e\u043b\u0435 name \u043c\u043e\u0436\u0435\u0442 \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u0442\u043e\u043b\u044c\u043a\u043e \u043b\u0430\u0442\u0438\u043d\u0438\u0446\u0443, \u043f\u0440\u043e\u0431\u0435\u043b \u0438\u043b\u0438 \u0434\u0435\u0444\u0438\u0441: a-zA-Z -"},{key:2,inputClassName:"",labelClassName:"",type:"email",id:"email",label:"E-mail",placeholder:"E-mail",name:"email",required:!0},{key:3,inputClassName:"",labelClassName:"",type:"password",id:"password",label:"\u041f\u0430\u0440\u043e\u043b\u044c",placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",name:"password",minLength:8,required:!0}],onChange:v,values:h,errors:f,onSubmit:function(e){e.preventDefault(),t(h),j(null),x()},submitButtonSettings:{type:"submit",title:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"},formAuthQuestionSettings:{questionText:"\u0423\u0436\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u044b? "},routeLinkSettings:{linkTitle:"\u0412\u043e\u0439\u0442\u0438",linkPath:"/signin"},formIsValid:O,authErrorText:m,isAuthError:c,isLoadingData:n})})},tt={BAD_REQUEST:"\u0412\u044b \u0432\u0432\u0435\u043b\u0438 \u043d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u0439 \u043b\u043e\u0433\u0438\u043d \u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c.",TOKEN_BAD_REQUEST:"\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a...",TOKEN_UNAUTHORIZED:"\u041f\u0440\u0438 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u0438 \u043f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430. \u041d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e \u043f\u0435\u0440\u0435\u0434\u0430\u043d \u0442\u043e\u043a\u0435\u043d.",INTERNAL_SERVER:"500 \u041d\u0430 \u0441\u0435\u0440\u0432\u0435\u0440\u0435 \u043f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430."};var at=function(e){var t=e.onSignin,a=e.authResStatus,n=e.tokenResStatus,i=e.isLoadingSignin,r=s.a.useState(!1),c=Object(o.a)(r,2),l=c[0],u=c[1],d=s.a.useState(null),m=Object(o.a)(d,2),j=m[0],b=m[1],h=ae(),f=h.values,O=h.errors,v=h.isValid,x=h.handleChange,g=h.resetForm;return s.a.useEffect((function(){!function(){if(n)switch(n){case 400:u(!0),b(tt.TOKEN_BAD_REQUEST);break;case 401:u(!0),b(tt.TOKEN_UNAUTHORIZED);break;case 500:u(!0),b(tt.INTERNAL_SERVER)}if(a)switch(a){case 400:case 401:u(!0),b(tt.BAD_REQUEST);break;case 500:u(!0),b(tt.INTERNAL_SERVER);break;case 200:u(!1),b("")}}()}),[n,a]),Object(N.jsx)("main",{className:"login",children:Object(N.jsx)(Ye,{titleText:"\u0420\u0430\u0434\u044b \u0432\u0438\u0434\u0435\u0442\u044c!",inputsData:[{key:1,inputClassName:"",labelClassName:"",type:"email",id:"email",label:"E-mail",placeholder:"E-mail",name:"email",required:!0},{key:2,inputClassName:"",labelClassName:"",type:"password",id:"password",label:"\u041f\u0430\u0440\u043e\u043b\u044c",placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",name:"password",minLength:8,required:!0}],routeLinkSettings:{linkTitle:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f",linkPath:"/signup"},onChange:x,values:f,errors:O,onSubmit:function(e){e.preventDefault(),t(f),g()},submitButtonSettings:{type:"submit",title:"\u0412\u043e\u0439\u0442\u0438"},formAuthQuestionSettings:{questionText:"\u0415\u0449\u0451 \u043d\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u044b? "},formIsValid:v,authErrorText:j,isAuthError:l,isLoadingData:i})})};var nt=function(){var e=Object(u.g)(),t="not-found",a="not-found__container",n="not-found__title",i="not-found__subtitle",s="not-found__go-back-button";return Object(N.jsxs)("main",{className:t,children:[Object(N.jsxs)("div",{className:a,children:[Object(N.jsx)("h1",{className:n,children:"404"}),Object(N.jsx)("p",{className:i,children:"\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u0430"})]}),Object(N.jsx)("button",{className:s,onClick:function(){e.goBack()},children:"\u041d\u0430\u0437\u0430\u0434"})]})};var it=function(e){var t=e.items,a=e.listTitle,n=e.styleSettings,i=t.map((function(e){return Object(N.jsx)("li",{className:n.listItem,children:Object(N.jsx)("a",{className:n.listLink,href:e.href,target:"_blank",rel:"noreferrer",children:e.text})},e.id)}));return Object(N.jsxs)(N.Fragment,{children:[a&&Object(N.jsx)("h5",{className:n.listTitle,children:a}),Object(N.jsx)("ul",{className:n.list,children:i})]})};var st=function(){return Object(N.jsx)(it,{items:[{id:1,text:"\u042f\u043d\u0434\u0435\u043a\u0441.\u041f\u0440\u0430\u043a\u0442\u0438\u043a\u0443\u043c",href:"https://praktikum.yandex.ru/"},{id:2,text:"Github",href:"https://github.com/razorka"},{id:3,text:"Vkontakte",href:"https://vk.com/id9702680"}],styleSettings:{list:"footer-list",listItem:"footer-list__item",listLink:"footer-list__link"}})};var rt=function(){var e="footer",t="footer__title",a="footer__container",n="footer__text";return Object(N.jsxs)("footer",{className:e,children:[Object(N.jsx)("h2",{className:t,children:"\u0423\u0447\u0435\u0431\u043d\u044b\u0439 \u043f\u0440\u043e\u0435\u043a\u0442 \u042f\u043d\u0434\u0435\u043a\u0441.\u041f\u0440\u0430\u043a\u0442\u0438\u043a\u0443\u043c \u0445 BeatFilm."}),Object(N.jsxs)("div",{className:a,children:[Object(N.jsx)("p",{className:n,children:"\xa9 2020"}),Object(N.jsx)(st,{})]})]})},ct=s.a.memo((function(e){return Object(N.jsxs)("nav",{className:"mobile-navigation",children:[Object(N.jsx)(l.c,{exact:!0,className:"mobile-navigation__link",activeClassName:"mobile-navigation__link_active",to:"/",onClick:e.onModalClose,children:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f"}),Object(N.jsx)(l.c,{className:"mobile-navigation__link",activeClassName:"mobile-navigation__link_active",to:"/movies",onClick:e.onModalClose,children:"\u0424\u0438\u043b\u044c\u043c\u044b"}),Object(N.jsx)(l.c,{className:"mobile-navigation__link",activeClassName:"mobile-navigation__link_active",to:"/saved-movies",onClick:e.onModalClose,children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0451\u043d\u043d\u044b\u0435 \u0444\u0438\u043b\u044c\u043c\u044b"}),e.children]})})),lt="/profile",ot="\u0410\u043a\u043a\u0430\u0443\u043d\u0442",ut=s.a.memo((function(e){return Object(N.jsxs)(l.b,{className:"mobile-account-link",to:lt,onClick:e.onModalClose,children:[ot,Object(N.jsx)(T,{className:"mobile-account-link__icon"})]})})),dt=a(25);var mt=function(e){var t=e.component,a=e.loggedIn,n=e.redirectTo,i=Object(dt.a)(e,["component","loggedIn","redirectTo"]);return Object(N.jsx)(u.b,{children:a?Object(N.jsx)(t,Object(p.a)({},i)):Object(N.jsx)(u.a,{to:n})})};var jt=function(){var e=s.a.useState(!1),t=Object(o.a)(e,2),a=t[0],n=t[1],i=s.a.useState(!0),r=Object(o.a)(i,2),c=r[0],l=r[1],m=s.a.useState(!1),j=Object(o.a)(m,2),h=j[0],f=j[1],O=s.a.useState(!1),v=Object(o.a)(O,2),x=v[0],p=v[1],S=s.a.useState(!1),k=Object(o.a)(S,2),y=k[0],C=k[1],E=s.a.useState(!1),w=Object(o.a)(E,2),T=w[0],L=w[1],R=s.a.useState(!1),I=Object(o.a)(R,2),M=I[0],U=I[1],P=s.a.useState({}),D=Object(o.a)(P,2),A=D[0],B=D[1],F=s.a.useState([]),V=Object(o.a)(F,2),z=V[0],Z=V[1],H=s.a.useState([]),J=Object(o.a)(H,2),G=J[0],K=J[1],W=s.a.useState(null),X=Object(o.a)(W,2),Y=X[0],ee=X[1],te=s.a.useState(null),ae=Object(o.a)(te,2),ie=ae[0],se=ae[1],re=s.a.useState(null),ce=Object(o.a)(re,2),le=ce[0],oe=ce[1],ue=s.a.useState(null),de=Object(o.a)(ue,2),me=de[0],je=de[1],be=s.a.useState(null),he=Object(o.a)(be,2),fe=he[0],Oe=he[1],ve=s.a.useState(null),xe=Object(o.a)(ve,2),ge=(xe[0],xe[1]),pe=s.a.useState(null),Ne=Object(o.a)(pe,2),Se=(Ne[0],Ne[1]),ke=s.a.useState(null),ye=Object(o.a)(ke,2),Ce=(ye[0],ye[1]),Ee=Object(u.g)(),we=function(e){var t=e.name,a=e.email,n=e._id;localStorage.setItem("userName",t),localStorage.setItem("userEmail",a),localStorage.setItem("userId",n)},Te=s.a.useCallback((function(){var e=localStorage.getItem("jwt");e&&(l(!0),_.checkToken(e).then((function(e){se(e.status),n(!0),B(e.data),we(e.data)}),(function(e){se(e)})).finally((function(){l(!1)})))}),[]);s.a.useEffect((function(){Te(),(ie||me||le||Y)&&(je(null),oe(null),se(null),ee(null))}),[Ee.location]);var Le=function(e){p(!0),_.authorize(e).then((function(e){ee(e.status),localStorage.setItem("jwt",e.data.token),n(!0),Te(),Ee.push("/movies")})).catch((function(e){ee(e)})).finally((function(){p(!1)}))},Re=function(){var e=localStorage.getItem("jwt");e&&_.getSavedMovies(e).then((function(e){Z(e.data),localStorage.setItem("saved-movies",JSON.stringify(e.data)),Se(e.status)})).catch((function(e){Se(e),console.log(e)}))},Ie=function(){U(!1)};return s.a.useEffect((function(){Re()}),[]),s.a.useEffect((function(){var e=function(){l(!1)};return window.addEventListener("load",e),function(){return window.removeEventListener("load",e)}}),[]),Object(N.jsx)(d.Provider,{value:A,children:Object(N.jsxs)("div",{className:"app",children:[Object(u.i)(["/signin","/signup"])?null:Object(N.jsx)(q,{loggedIn:a,onOpenMenu:function(){U(!0)}}),Object(N.jsxs)(u.d,{children:[Object(N.jsx)(u.b,{exact:!0,path:"/",children:c?Object(N.jsx)($,{}):Object(N.jsx)(_e,{})}),Object(N.jsx)(mt,{path:"/movies",redirectTo:"/",loggedIn:a,component:Ge,isLoadingData:h,moviesData:G,resStatus:fe,onSubmit:function(e){f(!0),b.getMoviesData().then((function(t){Oe(t.status);var a=g(e,t.data),n=function(){var e=JSON.parse(localStorage.getItem("saved-movies")),t=[];return e.forEach((function(e){t.push(e.movieId)})),t}();K(function(e,t){return e.forEach((function(e){e.saved=t.some((function(t){return t===e.id}))})),e}(a,n))})).catch((function(e){console.log(e),Oe(e)})).finally((function(){f(!1)}))},movieData:G,onSaveFavouriteMovie:function(e){var t=localStorage.getItem("jwt");t?_.saveMovie(e,t).then((function(e){ge(e.status)})).catch((function(e){ge(e),console.log(e)})).finally((function(){Re()})):Ee.push("/signin")}}),Object(N.jsx)(mt,{path:"/saved-movies",redirectTo:"/",loggedIn:a,component:Qe,savedMoviesData:z,onDeleteSavedMovie:function(e){var t=localStorage.getItem("jwt");t&&_.deleteSavedMovie(e,t).then((function(e){Ce(e.status)})).catch((function(e){Ce(e),console.log(e)})).finally((function(){Re()}))}}),Object(N.jsx)(mt,{path:"/profile",redirectTo:"/",loggedIn:a,onSignOut:function(e){e.preventDefault(),n(!1),localStorage.removeItem("jwt"),Ee.push("/")},onUpdateCurrentUser:function(e){var t=localStorage.getItem("jwt");t&&(L(!0),_.updateCurrentUserProfile(e,t).then((function(e){B(e.data),je(e.status),we(e.data)})).catch((function(e){je(e)})).finally((function(){L(!1)})))},isLoadingUpdateCurrentUser:T,updUserResStatus:me,component:ne}),Object(N.jsx)(u.b,{path:"/signup",children:Object(N.jsx)(et,{onSignup:function(e){C(!0),_.register(e).then((function(t){oe(t.status),Le({email:e.email,password:e.password})})).catch((function(e){oe(e)})).finally((function(){C(!1)}))},regResStatus:le,authResStatus:Y,isLoadingSignup:y||c||x})}),Object(N.jsx)(u.b,{path:"/signin",children:Object(N.jsx)(at,{onSignin:Le,authResStatus:Y,tokenResStatus:ie,isLoadingSignin:y||c||x})}),Object(N.jsx)(u.b,{path:"*",children:Object(N.jsx)(nt,{})})]}),Object(u.i)(["/signin","/signup","/profile"])?null:Object(N.jsx)(rt,{}),M&&Object(N.jsxs)(Q,{modalIsOpen:M,onModalClose:Ie,children:[Object(N.jsx)(Q.Header,{}),Object(N.jsx)(Q.Body,{children:Object(N.jsx)(ct,{onModalClose:Ie})}),Object(N.jsx)(Q.Footer,{children:Object(N.jsx)(ut,{onModalClose:Ie})})]})]})})};c.a.render(Object(N.jsx)(s.a.StrictMode,{children:Object(N.jsx)(l.a,{children:Object(N.jsx)(jt,{})})}),document.getElementById("root"))}},[[38,1,2]]]);
//# sourceMappingURL=main.1518b3d4.chunk.js.map